extends ../../layouts/default

block head
	link(rel="stylesheet" href="/js/scheduler/dhtmlxscheduler.css" type="text/css")
	link(rel="stylesheet" href="/bower_components/eonasdan-bootstrap-datetimepicker/build/css/bootstrap-datetimepicker.min.css" type="text/css")
	link(href='https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.4/css/select2.min.css', rel='stylesheet')
	link(href='https://cdnjs.cloudflare.com/ajax/libs/select2-bootstrap-theme/0.1.0-beta.10/select2-bootstrap.min.css', rel='stylesheet')

block content

	if rightKeysSet && rightKeysSet.has("calendar-create")
		include calendar_add_popup

	.container: .jumbotron
		h2 Calendrier des BN
		.alert.alert-bn Cliquez sur un évènement pour en afficher les détails.
			br
			| Cliquez sur un emplacement vide pour créer un évènement (si vous en avez les droits).
			br
			| Vous pouvez aussi afficher #[a(href="/calendar?toAgenda=true") #[b la vue agenda]] résumant les évènements à venir.
			
		#bn_scheduler(class="dhx_cal_container" style='width:100%; height:500px;')
			.dhx_cal_navline
				.dhx_cal_prev_button &nbsp;
				.dhx_cal_next_button &nbsp;
				.dhx_cal_today_button
				.dhx_cal_date
				.dhx_cal_tab(name="month_tab")
				.dhx_cal_tab(name="agenda_tab")
			.dhx_cal_header
			.dhx_cal_data
				
		#detailModal.modal.fade(role='dialog')
			.modal-dialog
				.modal-content
					.modal-header
						button.close(type='button', data-dismiss='modal') ×
						h4.modal-title(id="detailModalTitle") Modal Header
					#detailModalBody.modal-body
						p Some text in the modal.
					.modal-footer
						button.btn.btn-default(type='button', data-dismiss='modal') Fermer


block js
	script(src="/js/scheduler/dhtmlxscheduler.js" type="text/javascript")
	script(src="/js/scheduler/ext/dhtmlxscheduler_agenda_view.js" type="text/javascript")
	script(src="/js/scheduler/ext/dhtmlxscheduler_readonly.js" type="text/javascript")
	script(src="/js/scheduler/locale/locale_fr.js" type="text/javascript")
	script(src="https://cdn.jsdelivr.net/npm/domurl@2.1.7/url.min.js")
	script(src='https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.4/js/select2.min.js')
		
	script
		| scheduler.bn_content = 
		!= JSON.stringify(data)
		| ;
		
	script(src="/bower_components/moment/min/moment.min.js" type="text/javascript")
	script(src="/bower_components/moment/locale/fr.js" type="text/javascript")
	script(src="/bower_components/eonasdan-bootstrap-datetimepicker/build/js/bootstrap-datetimepicker.min.js" type="text/javascript")
		
	script(src='/compiled/CalendarLogic_client.js')
